project_name = 'test_common'

test_common	= [
	'test_common.c',	\
	'common.c',		\
	'fifo.c',		\
	'../../test/test.c',	\
]

#libs = ['scalp', 'nanoK']
#libpath = ['scalp', 'nanoK']

#SConscript(['./scalp/SConscript', './nanoK/SConscript'])

optimize        = '-O2 '
includes	= ['.', './scalp', './nanoK', './test']
cflags		= '-g -Wall ' + optimize
ldflags		= '-g -Wall ' + optimize

env = Environment(
	CC = 'gcc',		\
	AR = 'ar',		\
	CFLAGS = cflags,	\
	CPPPATH = includes,	\
	LINKFLAGS = ldflags,	\
)

#default = env.Program(project_name, test_common, LIBS = libs, LIBPATH = libpath)
default = env.Program(project_name, test_common)
env.Default(default)

# suppress reliquat files
env.Alias('clean', '', 'rm -f *~ *o test_common */*.o */*.a')
env.AlwaysBuild('clean')
